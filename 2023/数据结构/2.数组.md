

# 数组

1、数组是一种线性表：数据像一条线
2、连续的内存空间，存储相同类型的数据 => 支持随机访问

3、线性表有哪些？

1.  链表
2.  数组
3.  队列
4.  栈

4、数组的实战场景：卡表

1.  卡表的一种实现方式是字节数组
2.  JVM堆分为一个个512Byte的卡页
3.  卡表：用于记录卡页状态

5、数组的复杂度

1.  时间复杂度：
2.  支持随机访问，复杂度是O(1)
3.  查找：适合二分查找 O(logn)
4.  插入：O(n)
5.  删除：O(n)
6.  空间复杂度：O(n)

6、数组在插入和删除上的优化

1.  插入：index上原有的数据插入到数组尾部，index放入要插入的值 => 破坏原有顺序
2.  删除: 不删除只标记，后续一次性删除。
3.  两者的平均复杂度O(n), 最好O(1)

7、为什么数组下标从0开始？

1.  数组下标代表偏移量
2.  数组名代表首地址
3.  取元素的地址 = 首地址 + index \* 数据typesize
4.  这样实际是减少了一次减法指令，性能效率提升

8、多维数组

1.  多维数组概念上是多维的
2.  实际上是一维数组

9、数组有什么好处？

1.  可以借助CPU缓存机制（地址连续）
2.  扩容可以用系统copy方法实现

10、数组内部在物理内存上存储是反向的

1.  a\[3]三个元素
2.  a\[2]存储在低地址
3.  a\[0]存储在高地址
4.  小端字节序：对CPU、性能更好

## 数组 ===> 卡表
线性表：数据像一条线，连续的内存空间，存相同类型的数组
随机访问：O(1) =======> JVM卡表，一种实现方式字节数组；JVM堆分为512byte卡页，卡表记录卡页状态状态。
ArrayList：支持动态扩容，1.5
数组下标本身是偏移量：a[10] a：表首地址 10：表首地址 + 10 * typesize，少一次减法操作效率更高
数组可以借助CPU缓存机制
数组扩容用Array的Copy实现
多维数组实际上也是一位数组
### 优化
1、数组插入：需要移动的数据，直接放到尾部O(1)
2、删除：不删除，只记录，要用时，一次性删除，直接移动 O(n)
ArrayList: 支持动态扩容，1.5BEI